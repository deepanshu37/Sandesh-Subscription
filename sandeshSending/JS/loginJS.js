(function(e){e.onload=function(){e.sessionStorage.removeItem("sessionId")};function t(n){n.preventDefault();const r=document.getElementById("username").value;const o=document.getElementById("password").value;const i=new URLSearchParams;i.append("userName",r),i.append("password",o);fetch("/loginForm",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:i}).then(e=>{if(e.ok)return e.json();throw new Error("Login failed")}).then(n=>{console.log("Login response:",n);if(n.status===200){e.sessionStorage.setItem("sessionId",n.sessionId),window.location.href=n.redirectUrl}else if(n.status===208){window.location.href=n.redirectUrl}else{window.location.href=n.redirectUrl}}).catch(e=>{console.error("Error:",e),alert("Invalid credentials. Please try again.")})}document.getElementById("loginForm").addEventListener("submit",t)})(this)